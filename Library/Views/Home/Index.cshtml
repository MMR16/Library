@model HomeViewModel
@{ ViewData["Title"] = "Home Page"; }

@if (Model.products.Count() < 1)
{
<h1 class="text-danger">There Is No Products</h1> }
else
{

<div class="container">
    <div>
        <button class="btn btn-dark filter-button" data-filter="all">All</button>
        @foreach (var item in Model.categories)
        {
<button class="btn btn-outline-secondary m-1 filter-button" data-filter="@item.CatName.Replace(' ','_')">@item.CatName</button>}
    </div>
    <br />
    <div class="row">
        @foreach (var item in Model.products)
        {
<partial name="_ProductCard" model="item" />}
    </div>

</div>}


@section Scripts{
    <script>
        $(document).ready(function()
        {
            $(".filter-button").click(function () {
                let value = $(this).attr('data-filter');
                if (value == "all") {
                    $('.filter').show('1000');
                } else {
                    $('.filter').not('.' + value).hide('3000');
                    $('.filter').filter('.' + value).show('3000');
                }
            });
        });

    </script>
}
